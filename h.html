<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

<title>تجربة</title>

<style>
    body {
        font-family:  "Rubik", sans-serif;
        background-color: #f8f9fa;
        color: #333;
        margin: 0;
        padding: 0;
    }
    
    .ftco-section {
        padding: 60px 0;
    }
    
    .container {
        max-width: 1170px;
        margin: auto;
        padding: 0 15px;
    }
    
    .form-wrap {
        background-color: #fff;
        border-radius: 5px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        padding: 30px;
    }
    
    .form-wrap h3 {
        font-size: 24px;
        margin-bottom: 30px;
        text-align: center;
    }
    
    form {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
    }
    
    label {
        flex-basis: 100%;
        margin-bottom: 15px;
        font-size: 15px;
        font-weight: bold;
    }
    
    input[type="txt"], input[type="txt1"] {
        flex-basis: 100%;
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 16px;
        max-width: 100%;
        direction: rtl;
        text-align: left;
        touch-action: manipulation;
        padding-right: 45px; /* زيادة المسافة بين النص والأيقونة */
        background-image: url('https://i.imgur.com/wFRKLip.png');
        background-repeat: no-repeat;
        background-position: right 10px center; /* تحديد موقع الأيقونة على اليمين */
        background-size: 30px 30px;
        text-align: right;
        font-weight: lighter;
    }
    
    input[type="txt1"] {
        background-image: url('https://i.imgur.com/puelEdj.png');
    }

    button[type="submit"], button[type="reset"] {
        background-color: #007bff;
        color: #fff;
        padding: 10px 20px;
        font-size: 16px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s;
        font-weight: bold;
    }

    button[type="submit"] {
        background-color: green;
    }

    button[type="reset"] {
        background-color: #0056b3;
    }

input[type="file"] {
        flex-basis: 100%;
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 16px;
        max-width: 80%;
        direction: rtl;
        text-align: left;
        touch-action: manipulation;
        padding-right: 45px; /* زيادة المسافة بين النص والأيقونة */
        background-image: url('');
        background-repeat: no-repeat;
        background-position: right 10px center; /* تحديد موقع الأيقونة على اليمين */
        background-size: 30px 30px;
        text-align: right;
        font-weight: lighter;
    }

    .error-message {
        color: red;
        margin-top: 10px;
        text-align: center;
    }
</style>

</head>
<body>

<section class="ftco-section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10 col-md-12">
                <div class="form-wrap">
                    <form id="myForm" action="https://submit.jotform.com/submit/242458007585461" method="post">
                        <label for="first_10" id="sublabel_10_first">الاسم الأول :</label>
                        <input type="txt" id="first_10" name="q10_name[first]" autocomplete="section-input_10 given-name" placeholder="مثال: محمد" value="" required>

                        <label for="last_10" id="sublabel_10_last">الاسم الثاني :</label>
                        <input type="txt1" id="last_10" name="q10_name[last]" autocomplete="section-input_10 family-name" placeholder="مثال: العلي" value="" required>





                        <label for="inputField" style="font-size: 14px; color: red;">تأكد !! من كتابة الاسم الاول والثاني</label>

                        <button type="submit">إرسال</button>
                        <button type="reset">حذف</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- جعل الرابط محمي -->


    <script>
        // عدد المحاولات المسموح به
        const maxAttempts = 10;

        // الحصول على عدد المحاولات من localStorage
        let attempts = localStorage.getItem('formAttempts');
        if (!attempts) {
            attempts = 0;
        } else {
            attempts = parseInt(attempts, 10);
        }

        // التحقق من عدد المحاولات وتحديد ما إذا كان يجب عرض رسالة التنبيه
        if (attempts >= maxAttempts) {
            document.body.innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <h2 style="color: red;">تم تجاوز الحد المسموح!</h2>
                    <p style="font-size: 15px;">لقد تجاوزت عدد المحاولات المسموح به لتعبئة النموذج.</p>
                    <div class="element">‏⠀⠀ ⠀ </div>
                    <p style="color: green; font-size: 16px;">إذا كان لديك رمز سري، الرجاء إدخاله لإعادة تعيين المحاولات (قم بالتواصل مع الإدارة لإعطائك الرمز)</p>
                    <input type="tel" maxlength="4" id="resetCode" placeholder="أدخل الرمز السري" style="
                        flex-basis: 100%;
                        padding: 10px;
                        margin-bottom: 20px;
                        border: 1px solid #ccc;
                        border-radius: 5px;
                        font-size: 16px;
                        max-width: 100%;
                        direction: rtl;
                        text-align: left;
                        touch-action: manipulation;
                        padding-right: 45px;
                        background-image: url('https://i.imgur.com/kvKqwZS.png');
                        background-repeat: no-repeat;
                        background-position: right 10px center;
                        background-size: 30px 30px;
                        font-weight: lighter;
                    "/>
                    <button id="resetButton" style="
                        background-color: green;
                        color: #fff;
                        padding: 10px 20px;
                        font-size: 16px;
                        border: none;
                        border-radius: 5px;
                        cursor: pointer;
                        transition: background-color 0.3s;
                        font-weight: bold;
                    ">إعادة تعيين المحاولات</button>
                </div>
            `;

            // الرمز السري الصحيح
            const secretCode = "1234";  // يمكنك تغيير الرمز هنا

            // معالج زر إعادة تعيين المحاولات
            document.getElementById('resetButton').addEventListener('click', function() {
                const userCode = document.getElementById('resetCode').value;
                if (userCode === secretCode) {
                    attempts = 0;
                    localStorage.setItem('formAttempts', attempts);
                    alert('تمت إعادة تعيين المحاولات بنجاح!');
                    location.reload(); // إعادة تحميل الصفحة
                } else {
                    alert('الرمز السري غير صحيح!');
                }
            });
        } else {
            // زيادة عدد المحاولات بعد تقديم النموذج
            function handleSubmit(event) {
                event.preventDefault(); // منع الإرسال الافتراضي للنموذج

                const form = event.target;
                const actionUrl = form.action;

                // إرسال النموذج عبر طلب POST باستخدام Fetch API
                fetch(actionUrl, {
                    method: 'POST',
                    body: new FormData(form),
                })
                .then(response => {
                    if (response.ok) {
                        // زيادة عدد المحاولات وتخزينها
                        attempts += 1;
                        localStorage.setItem('formAttempts', attempts);

                        // الانتقال إلى الرابط الآخر مباشرة بعد إرسال البيانات
                        window.location.href = 'https://brho.free.nf/h.html'; // الرابط الثاني
                    } else {
                        console.error('فشل في إرسال النموذج:', response.statusText);
                    }
                })
                .catch(error => {
                    console.error('خطأ في إرسال النموذج:', error);
                });
            }

            // إضافة معالج الحدث للنموذج
            document.addEventListener('DOMContentLoaded', () => {
                document.querySelector('form').addEventListener('submit', handleSubmit);
            });
        }
    </script>
</body>
</html>